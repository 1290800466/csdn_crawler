<!DOCTYPE html>
            <html>
              <head>
                <meta http-equiv="content-type" content="text/html; charset=utf-8">
                <meta http-equiv="X-UA-Compatible" content="IE=Edge">
                <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
                <meta name="apple-mobile-web-app-status-bar-style" content="black">

                <meta http-equiv="Cache-Control" content="no-siteapp" /><link rel="alternate" media="handheld" href="#" />

                <title></title>
              </head>
              <body><div class="skin_detail" id="article_content">&#13;
                        <div class="markdown_views"><p><strong>Python 日期和时间 :</strong> <br/>
Python 提供了一个 time 和 calendar 模块可以用于格式化日期和时间。 <br/>
时间间隔是以秒为单位的浮点小数。 <br/>
每个时间戳都以自从1970年1月1日午夜（历元）经过了多长时间来表示。 <br/>
Python 的 time 模块下有很多函数可以转换常见日期格式。如函数time.time()用于获取当前时间戳, 如下实例:</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment">#!/usr/bin/python</span>
<span class="hljs-comment"># -*- coding: UTF-8 -*-</span>

<span class="hljs-keyword">import</span> time;  <span class="hljs-comment"># 引入time模块</span>

ticks = time.time()
<span class="hljs-keyword">print</span> <span class="hljs-string">"当前时间戳为:"</span>, ticks
<span class="hljs-string">'''以上实例输出结果：
当前时间戳为: 1459994552.51</span></code></pre>

<p><strong>时间元组：</strong> <br/>
很多Python函数用一个元组装起来的9组数字处理时间:</p>



<pre class="prettyprint"><code class=" hljs ">0   4位数年    2008
1   月   1 到 12
2   日   1到31
3   小时  0到23
4   分钟  0到59
5   秒   0到61 (60或61 是闰秒)
6   一周的第几日  0到6 (0是周一)
7   一年的第几日  1到366 (儒略历)
8   夏令时 -1, 0, 1, -1是决定是否为夏令时的旗帜</code></pre>

<p>上述也就是struct_time元组。这种结构具有如下属性：</p>



<pre class="prettyprint"><code class=" hljs ">0   tm_year 2008
1   tm_mon  1 到 12
2   tm_mday 1 到 31
3   tm_hour 0 到 23
4   tm_min  0 到 59
5   tm_sec  0 到 61 (60或61 是闰秒)
6   tm_wday 0到6 (0是周一)
7   tm_yday 1 到 366(儒略历)
8   tm_isdst    -1, 0, 1, -1是决定是否为夏令时的旗帜</code></pre>

<p><strong>获取当前时间元组</strong> <br/>
从返回浮点数的时间辍方式向时间元组转换，只要将浮点数传递给如localtime之类的函数。</p>

<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment">#!/usr/bin/python</span>
<span class="hljs-comment"># -*- coding: UTF-8 -*-</span>

<span class="hljs-keyword">import</span> time

localtime = time.localtime(time.time())
<span class="hljs-keyword">print</span> <span class="hljs-string">"本地时间为 :"</span>, localtime
<span class="hljs-string">'''以上实例输出结果：
本地时间为 : time.struct_time(tm_year=2016, tm_mon=4, tm_mday=7, tm_hour=10, tm_min=3, tm_sec=27, tm_wday=3, tm_yday=98, tm_isdst=0)</span></code></pre>

<p><strong>获取格式化的时间</strong> <br/>
你可以根据需求选取各种格式，但是最简单的获取可读的时间模式的函数是asctime():</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment">#!/usr/bin/python</span>
<span class="hljs-comment"># -*- coding: UTF-8 -*-</span>

<span class="hljs-keyword">import</span> time

localtime = time.asctime( time.localtime(time.time()) )
<span class="hljs-keyword">print</span> <span class="hljs-string">"本地时间为 :"</span>, localtime

<span class="hljs-string">'''以上实例输出结果：
本地时间为 : Thu Apr  7 10:05:21 2016</span></code></pre>

<p><strong>格式化日期</strong> <br/>
我们可以使用 time 模块的 strftime 方法来格式化日期，：</p>



<pre class="prettyprint"><code class=" hljs perl"><span class="hljs-keyword">time</span>.strftime(<span class="hljs-keyword">format</span>[, t])
<span class="hljs-comment">#!/usr/bin/python</span>
<span class="hljs-comment"># -*- coding: UTF-8 -*-</span>

import <span class="hljs-keyword">time</span>

<span class="hljs-comment"># 格式化成2016-03-20 11:45:39形式</span>
<span class="hljs-keyword">print</span> <span class="hljs-keyword">time</span>.strftime(<span class="hljs-string">"<span class="hljs-variable">%Y</span>-<span class="hljs-variable">%m</span>-<span class="hljs-variable">%d</span> <span class="hljs-variable">%H</span>:<span class="hljs-variable">%M</span>:<span class="hljs-variable">%S</span>"</span>, <span class="hljs-keyword">time</span>.<span class="hljs-keyword">localtime</span>()) 

<span class="hljs-comment"># 格式化成Sat Mar 28 22:24:24 2016形式</span>
<span class="hljs-keyword">print</span> <span class="hljs-keyword">time</span>.strftime(<span class="hljs-string">"<span class="hljs-variable">%a</span> <span class="hljs-variable">%b</span> <span class="hljs-variable">%d</span> <span class="hljs-variable">%H</span>:<span class="hljs-variable">%M</span>:<span class="hljs-variable">%S</span> <span class="hljs-variable">%Y</span>"</span>, <span class="hljs-keyword">time</span>.<span class="hljs-keyword">localtime</span>()) 

<span class="hljs-comment"># 将格式字符串转换为时间戳</span>
a = <span class="hljs-string">"Sat Mar 28 22:24:24 2016"</span>
<span class="hljs-keyword">print</span> <span class="hljs-keyword">time</span>.mktime(<span class="hljs-keyword">time</span>.strptime(a,<span class="hljs-string">"<span class="hljs-variable">%a</span> <span class="hljs-variable">%b</span> <span class="hljs-variable">%d</span> <span class="hljs-variable">%H</span>:<span class="hljs-variable">%M</span>:<span class="hljs-variable">%S</span> <span class="hljs-variable">%Y</span>"</span>))

<span class="hljs-string">''</span><span class="hljs-string">'以上实例输出结果：
2016-04-07 10:25:09
Thu Apr 07 10:25:09 2016
1459175064.0</span></code></pre>

<p><strong>python中时间日期格式化符号：</strong></p>

<pre class="prettyprint"><code class=" hljs haml"><span class="hljs-tag">%<span class="hljs-title">y</span></span> 两位数的年份表示（00-99）
<span class="hljs-tag">%<span class="hljs-title">Y</span></span> 四位数的年份表示（000-9999）
<span class="hljs-tag">%<span class="hljs-title">m</span></span> 月份（01-12）
<span class="hljs-tag">%<span class="hljs-title">d</span></span> 月内中的一天（0-31）
<span class="hljs-tag">%<span class="hljs-title">H</span></span> 24小时制小时数（0-23）
<span class="hljs-tag">%<span class="hljs-title">I</span></span> 12小时制小时数（01-12）
<span class="hljs-tag">%<span class="hljs-title">M</span></span> 分钟数（00=59）
<span class="hljs-tag">%<span class="hljs-title">S</span></span> 秒（00-59）
<span class="hljs-tag">%<span class="hljs-title">a</span></span> 本地简化星期名称
<span class="hljs-tag">%<span class="hljs-title">A</span></span> 本地完整星期名称
<span class="hljs-tag">%<span class="hljs-title">b</span></span> 本地简化的月份名称
<span class="hljs-tag">%<span class="hljs-title">B</span></span> 本地完整的月份名称
<span class="hljs-tag">%<span class="hljs-title">c</span></span> 本地相应的日期表示和时间表示
<span class="hljs-tag">%<span class="hljs-title">j</span></span> 年内的一天（001-366）
<span class="hljs-tag">%<span class="hljs-title">p</span></span> 本地A.M.或P.M.的等价符
<span class="hljs-tag">%<span class="hljs-title">U</span></span> 一年中的星期数（00-53）星期天为星期的开始
<span class="hljs-tag">%<span class="hljs-title">w</span></span> 星期（0-6），星期天为星期的开始
<span class="hljs-tag">%<span class="hljs-title">W</span></span> 一年中的星期数（00-53）星期一为星期的开始
<span class="hljs-tag">%<span class="hljs-title">x</span></span> 本地相应的日期表示
<span class="hljs-tag">%<span class="hljs-title">X</span></span> 本地相应的时间表示
<span class="hljs-tag">%<span class="hljs-title">Z</span></span> 当前时区的名称
<span class="hljs-tag">%</span>% %号本身</code></pre>

<p><strong>获取某月日历：</strong> <br/>
Calendar模块有很广泛的方法用来处理年历和月历，例如打印某月的月历：</p>



<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-comment">#!/usr/bin/python</span>
<span class="hljs-comment"># -*- coding: UTF-8 -*-</span>

<span class="hljs-keyword">import</span> calendar

cal = calendar.month(<span class="hljs-number">2016</span>, <span class="hljs-number">1</span>)
<span class="hljs-keyword">print</span> <span class="hljs-string">"以下输出2016年1月份的日历:"</span>
<span class="hljs-keyword">print</span> cal;

<span class="hljs-string">'''以上实例输出结果：
以下输出2016年1月份的日历:
    January 2016
Mo Tu We Th Fr Sa Su
             1  2  3
 4  5  6  7  8  9 10
11 12 13 14 15 16 17
18 19 20 21 22 23 24
25 26 27 28 29 30 31</span></code></pre>

<p><strong>Time 模块内置函数：</strong></p>

<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-string">'''返回格林威治西部的夏令时地区的偏移秒数。如果该地区在格林威治东部会返回负值（如西欧，包括英国）。对夏令时启用地区才能使用。'''</span>

time.altzone

<span class="hljs-string">'''接受时间元组并返回一个可读的形式为"Tue Dec 11 18:07:14 2008"（2008年12月11日 周二18时07分14秒）的24个字符的字符串。即格式化时间元组为正常时间日期'''</span>

time.asctime([tupletime])

<span class="hljs-comment">#用以浮点数计算的秒数返回当前的CPU时间。用来衡量不同程序的耗时，比time.time()更有用。</span>

time.clock( )

<span class="hljs-comment">#作用相当于asctime(localtime(secs))，未给参数相当于asctime()</span>

time.ctime([secs])

<span class="hljs-comment">#接收时间辍（1970纪元后经过的浮点秒数）并返回格林威治天文时间下的时间元组t。注：t.tm_isdst始终为0</span>

time.gmtime([secs])

<span class="hljs-string">'''接收时间辍（1970纪元后经过的浮点秒数）并返回当地时间下的时间元组t（t.tm_isdst可取0或1，取决于当地当时是不是夏令时）。'''</span>

time.localtime([secs])

<span class="hljs-comment">#接受时间元组并返回时间辍（1970纪元后经过的浮点秒数）。</span>
time.mktime(tupletime)

<span class="hljs-comment">#推迟调用线程的运行，secs指秒数。程序休眠指定秒数</span>
time.sleep(secs)

<span class="hljs-comment">#接收以时间元组，并返回以可读字符串表示的当地时间，格式由fmt决定。</span>
time.strftime(fmt[,tupletime])

<span class="hljs-comment">#根据fmt的格式把一个时间字符串解析为时间元组。</span>
time.strptime(str,fmt=<span class="hljs-string">'%a %b %d %H:%M:%S %Y'</span>)

<span class="hljs-comment">#返回当前时间的时间戳（1970纪元后经过的**浮点秒数**）。</span>
time.time( )

<span class="hljs-comment">#根据环境变量TZ重新初始化时间相关设置。</span>
time.tzset()
</code></pre>

<p><strong>Time模块包含了以下2个非常重要的属性：</strong></p>

<pre class="prettyprint"><code class=" hljs python"><span class="hljs-string">'''属性time.timezone是当地时区（未启动夏令时）距离格林威治的偏移秒数（&gt;0，美洲;&lt;=0大部分欧洲，亚洲，非洲）。'''</span>

time.timezone

<span class="hljs-comment">#属性time.tzname包含一对根据情况的不同而不同的字符串，分别是带夏令时的本地时区名称，和不带的。</span>

time.tzname
</code></pre>

<p><strong>日历（Calendar）模块函数：</strong></p>

<pre class="prettyprint"><code class="language-python hljs "><span class="hljs-string">'''返回一个多行字符串格式的year年年历，3个月一行，间隔距离为c。 每日宽度间隔为w字符。每行长度为21* W+18+2* C。l是行间距。'''</span>
calendar.calendar(year,w=<span class="hljs-number">2</span>,l=<span class="hljs-number">1</span>,c=<span class="hljs-number">6</span>)

<span class="hljs-comment">#返回当前每周起始日期的设置。默认情况下，首次载入caendar模块时返回0，即星期一。</span>
calendar.firstweekday( )

<span class="hljs-comment">#是闰年返回True，否则为false。</span>
calendar.isleap(year)

<span class="hljs-comment">#返回在Y1，Y2两年之间的闰年总数。</span>
calendar.leapdays(y1,y2)

<span class="hljs-string">'''返回一个多行字符串格式的year年month月日历，两行标题，一周一行。每日宽度间隔为w字符。每行的长度为7* w+6。l是行间距。'''</span>
calendar.month(year,month,w=<span class="hljs-number">2</span>,l=<span class="hljs-number">1</span>)

<span class="hljs-string">'''返回一个整数的单层嵌套列表。每个子列表装载代表一个星期的整数。Year年month月外的日期都设为0;范围内的日子都由该月第几日表示，从1开始。输出格式：[[1, 2, 3, 4, 5, 6, 7], [8, 9, 10, 11, 12, 13, 14], [15, 16, 17, 18, 19, 20, 21], [22, 23, 24, 25, 26, 27, 28], [29, 0, 0, 0, 0, 0, 0]]
'''</span>
calendar.monthcalendar(year,month)

<span class="hljs-string">'''返回两个整数。第一个是该月的起始日期是星期几的码，第二个是该月有多少天的日期码。星期从0（星期一）到6（星期日）;日期码从28到31。
'''</span>
calendar.monthrange(year,month)

<span class="hljs-comment">#相当于 print calendar.calendar(year,w,l,c).</span>
calendar.prcal(year,w=<span class="hljs-number">2</span>,l=<span class="hljs-number">1</span>,c=<span class="hljs-number">6</span>)

<span class="hljs-comment">#相当于 print calendar.calendar（year，w，l，c）</span>
calendar.prmonth(year,month,w=<span class="hljs-number">2</span>,l=<span class="hljs-number">1</span>)

<span class="hljs-comment">#设置每周的起始日期码。0（星期一）到6（星期日），即日历星期几行记录开始的数值</span>
calendar.setfirstweekday(weekday)

<span class="hljs-comment">#和time.gmtime相反：接受一个时间元组形式，返回该时刻的时间辍（1970纪元后经过的浮点秒数）。</span>
calendar.timegm(tupletime)

<span class="hljs-comment">#返回给定日期的日期码（星期几）。0（星期一）到6（星期日）。</span>
calendar.weekday(year,month,day)

</code></pre></div><link rel="stylesheet" href="http://static.blog.csdn.net/public/res-min/markdown_views.css?v=1.0"/></div>  </body>
            </html>