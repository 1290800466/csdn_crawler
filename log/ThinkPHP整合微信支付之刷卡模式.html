<!DOCTYPE html>
            <html>
              <head>
                <meta http-equiv="content-type" content="text/html; charset=utf-8">
                <meta http-equiv="X-UA-Compatible" content="IE=Edge">
                <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
                <meta name="apple-mobile-web-app-status-bar-style" content="black">

                <meta http-equiv="Cache-Control" content="no-siteapp" /><link rel="alternate" media="handheld" href="#" />

                <title></title>
              </head>
              <body><div class="skin_detail" id="article_content">&#13;
                        &#13;
<span style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px">大家好，这篇文章是继微信支付之Native 扫码支付 模式二之后的微信支付系列教程第四篇：微信刷卡支付</span><br style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px"/><span style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px">本教程跟前三篇教程不一样，所需要的类库也不一样，所以做刷卡支付的时候，与之前的方法没多少关系，大家注意一下。</span><br style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px"/><span style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px">下面开始介绍详细步骤！</span><br style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px"/><span style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px">step1：下载微信刷卡支付demo，如下图：</span><br style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px"/><a target="_blank" href="http://www.thinkphp.cn/Uploads/editor/2015-07-07/559b685e2986b.png" style="color:rgb(114,185,57); text-decoration:none; font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px"><img src="http://www.thinkphp.cn/Uploads/editor/2015-07-07/559b685e2986b.png" alt="" style="margin:10px 0px; padding:0px; border:0px; max-width:688px"/></a><br style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px"/><span style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px">WxPayMicropayHelper：这个文件夹下就是刷卡支付微信提供的类库</span><br style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px"/><span style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px">demo：这个文件夹下是关于刷卡支付的详细demo</span><br style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px"/><span style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px">我们来看一下demo文件夹：</span><br style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px"/><a target="_blank" href="http://www.thinkphp.cn/Uploads/editor/2015-07-07/559b68fc3a70c.png" style="color:rgb(114,185,57); text-decoration:none; font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px"><img src="http://www.thinkphp.cn/Uploads/editor/2015-07-07/559b68fc3a70c.png" alt="" style="margin:10px 0px; padding:0px; border:0px; max-width:688px"/></a><br style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px"/><span style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px">这里我们要用到</span><br style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px"/><span style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px">micropay_call.php:这个就是刷卡支付的具体demo</span><br style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px"/><span style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px">我们可以把里面内容复制下来，放到TP的控制器中（稍后介绍）</span><br style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px"/><br style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px"/><span style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px">step2：把下载下来的微信刷卡支付的类库同样放到Vendor目录下：</span><br style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px"/><a target="_blank" href="http://www.thinkphp.cn/Uploads/editor/2015-07-07/559b6995878a9.png" style="color:rgb(114,185,57); text-decoration:none; font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px"><img src="http://www.thinkphp.cn/Uploads/editor/2015-07-07/559b6995878a9.png" alt="" style="margin:10px 0px; padding:0px; border:0px; max-width:688px"/></a><br style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px"/><br style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px"/><span style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px">step3：上面的类库放好后我们可以来写控制器里面的内容了</span><br style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px"/><span style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px">首先还是引入类库：</span><code class="prettyprint linenums lang-php prettyprinted" style="position:relative; border:1px solid rgb(209,215,220); padding:2px; font-size:14px; display:block; font-family:Consolas,'Liberation Mono',Courier,monospace,微软雅黑; margin:10px 0px; word-wrap:break-word; color:rgb(50,50,50)"/>&#13;
<ol class="linenums" style="margin:0px 0px 0px 40px; padding:0px; color:rgb(43,165,216); list-style-position:outside"><li class="L0" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="com" style="color:rgb(136,0,0)">/**</span></li><li class="L1" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="com" style="color:rgb(136,0,0)">     * 初始化</span></li><li class="L2" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="com" style="color:rgb(136,0,0)">     */</span></li><li class="L3" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">public</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">function</span><span class="pln" style="color:rgb(0,0,0)"> _initialize</span><span class="pun" style="color:rgb(102,102,0)">()</span></li><li class="L4" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">    </span><span class="pun" style="color:rgb(102,102,0)">{</span></li><li class="L5" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span><span class="com" style="color:rgb(136,0,0)">//引入WxPayPubHelper</span></li><li class="L6" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        vendor</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="str" style="color:rgb(0,136,0)">'WxPayMicropayHelper.WxPayMicropayHelper'</span><span class="pun" style="color:rgb(102,102,0)">);</span></li><li class="L7" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">    </span><span class="pun" style="color:rgb(102,102,0)">}</span></li></ol><div class="think-copy" style="position:absolute; top:-1px; right:-1px; width:80px; height:27px; line-height:27px; text-align:center; border:1px solid rgb(204,204,204)">&#13;
<span style="display:inline-block; width:80px; height:27px">复制代码</span></div>&#13;
<div class="zclip" id="zclip-ZeroClipboardMovie_1" style="position:absolute; left:605px; top:-1px; width:82px; height:29px; z-index:99">&#13;
</div>&#13;
<span style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px">接下来把micropay_call.php下的代码提取出来复制到控制器下，并给个名字：</span><code class="prettyprint linenums lang-php prettyprinted" style="position:relative; border:1px solid rgb(209,215,220); padding:2px; font-size:14px; display:block; font-family:Consolas,'Liberation Mono',Courier,monospace,微软雅黑; margin:10px 0px; word-wrap:break-word; color:rgb(50,50,50)"/>&#13;
<ol class="linenums" style="margin:0px 0px 0px 40px; padding:0px; color:rgb(43,165,216); list-style-position:outside"><li class="L0" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="kwd" style="color:rgb(0,0,136)">public</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">function</span><span class="pln" style="color:rgb(0,0,0)"> micropay</span><span class="pun" style="color:rgb(102,102,0)">()</span></li><li class="L1" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">    </span><span class="pun" style="color:rgb(102,102,0)">{</span></li><li class="L2" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span><span class="com" style="color:rgb(136,0,0)">//自定义订单号，此处仅作举例</span></li><li class="L3" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        $timeStamp </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> time</span><span class="pun" style="color:rgb(102,102,0)">();</span></li><li class="L4" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        $out_trade_no </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> \WxPayConf_micropay</span><span class="pun" style="color:rgb(102,102,0)">::</span><span class="pln" style="color:rgb(0,0,0)">APPID</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="str" style="color:rgb(0,136,0)">"$timeStamp"</span><span class="pun" style="color:rgb(102,102,0)">;</span></li><li class="L5" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span></li><li class="L6" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span><span class="com" style="color:rgb(136,0,0)">//获取用户一维码</span></li><li class="L7" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span><span class="kwd" style="color:rgb(0,0,136)">if</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">isset</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">$_POST</span><span class="pun" style="color:rgb(102,102,0)">[</span><span class="str" style="color:rgb(0,136,0)">"auth_code"</span><span class="pun" style="color:rgb(102,102,0)">]))</span></li><li class="L8" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span><span class="pun" style="color:rgb(102,102,0)">{</span></li><li class="L9" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            $auth_code </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> $_POST</span><span class="pun" style="color:rgb(102,102,0)">[</span><span class="str" style="color:rgb(0,136,0)">"auth_code"</span><span class="pun" style="color:rgb(102,102,0)">];</span></li><li class="L0" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span></li><li class="L1" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="com" style="color:rgb(136,0,0)">//使用被扫支付接口</span></li><li class="L2" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            $micropayCall </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">new</span><span class="pln" style="color:rgb(0,0,0)"> \MicropayCall</span><span class="pun" style="color:rgb(102,102,0)">();</span></li><li class="L3" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span></li><li class="L4" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="com" style="color:rgb(136,0,0)">//设置被扫支付接口参数</span></li><li class="L5" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="com" style="color:rgb(136,0,0)">//设置必填参数</span></li><li class="L6" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="com" style="color:rgb(136,0,0)">//appid已填,商户无需重复填写</span></li><li class="L7" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="com" style="color:rgb(136,0,0)">//mch_id已填,商户无需重复填写</span></li><li class="L8" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="com" style="color:rgb(136,0,0)">//noncestr已填,商户无需重复填写</span></li><li class="L9" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="com" style="color:rgb(136,0,0)">//spbill_create_ip已填,商户无需重复填写</span></li><li class="L0" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="com" style="color:rgb(136,0,0)">//sign已填,商户无需重复填写</span></li><li class="L1" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            $micropayCall</span><span class="pun" style="color:rgb(102,102,0)">-&gt;</span><span class="pln" style="color:rgb(0,0,0)">setParameter</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="str" style="color:rgb(0,136,0)">"body"</span><span class="pun" style="color:rgb(102,102,0)">,</span><span class="str" style="color:rgb(0,136,0)">"贡献一分钱"</span><span class="pun" style="color:rgb(102,102,0)">);</span><span class="com" style="color:rgb(136,0,0)">//商品描述</span></li><li class="L2" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            $micropayCall</span><span class="pun" style="color:rgb(102,102,0)">-&gt;</span><span class="pln" style="color:rgb(0,0,0)">setParameter</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="str" style="color:rgb(0,136,0)">"out_trade_no"</span><span class="pun" style="color:rgb(102,102,0)">,</span><span class="str" style="color:rgb(0,136,0)">"$out_trade_no"</span><span class="pun" style="color:rgb(102,102,0)">);</span><span class="com" style="color:rgb(136,0,0)">//商户订单号</span></li><li class="L3" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            $micropayCall</span><span class="pun" style="color:rgb(102,102,0)">-&gt;</span><span class="pln" style="color:rgb(0,0,0)">setParameter</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="str" style="color:rgb(0,136,0)">"total_fee"</span><span class="pun" style="color:rgb(102,102,0)">,</span><span class="str" style="color:rgb(0,136,0)">"1"</span><span class="pun" style="color:rgb(102,102,0)">);</span><span class="com" style="color:rgb(136,0,0)">//总金额</span></li><li class="L4" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            $micropayCall</span><span class="pun" style="color:rgb(102,102,0)">-&gt;</span><span class="pln" style="color:rgb(0,0,0)">setParameter</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="str" style="color:rgb(0,136,0)">"auth_code"</span><span class="pun" style="color:rgb(102,102,0)">,</span><span class="str" style="color:rgb(0,136,0)">"$auth_code"</span><span class="pun" style="color:rgb(102,102,0)">);</span><span class="com" style="color:rgb(136,0,0)">//交易类型</span></li><li class="L5" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="com" style="color:rgb(136,0,0)">//非必填参数，商户可根据实际情况选填</span></li><li class="L6" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="com" style="color:rgb(136,0,0)">//$micropayCall-&gt;setParameter("sub_mch_id","XXXX");//子商户号</span></li><li class="L7" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="com" style="color:rgb(136,0,0)">//$micropayCall-&gt;setParameter("device_info","XXXX");//设备号</span></li><li class="L8" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="com" style="color:rgb(136,0,0)">//$micropayCall-&gt;setParameter("attach","XXXX");//附加数据</span></li><li class="L9" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="com" style="color:rgb(136,0,0)">//$micropayCall-&gt;setParameter("time_start","XXXX");//交易起始时间</span></li><li class="L0" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="com" style="color:rgb(136,0,0)">//$micropayCall-&gt;setParameter("time_expire","XXXX");//交易结束时间</span></li><li class="L1" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="com" style="color:rgb(136,0,0)">//$micropayCall-&gt;setParameter("goods_tag","XXXX");//商品标记</span></li><li class="L2" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="com" style="color:rgb(136,0,0)">//$micropayCall-&gt;setParameter("openid","XXXX");//用户标识</span></li><li class="L3" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="com" style="color:rgb(136,0,0)">//$micropayCall-&gt;setParameter("product_id","XXXX");//商品ID</span></li><li class="L4" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span></li><li class="L5" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="com" style="color:rgb(136,0,0)">//提交订单</span></li><li class="L6" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            $micropayCallResult </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> $micropayCall</span><span class="pun" style="color:rgb(102,102,0)">-&gt;</span><span class="pln" style="color:rgb(0,0,0)">getResult</span><span class="pun" style="color:rgb(102,102,0)">();</span></li><li class="L7" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span></li><li class="L8" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="com" style="color:rgb(136,0,0)">//商户根据实际情况设置相应的处理流程,此处仅作举例</span></li><li class="L9" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="kwd" style="color:rgb(0,0,136)">if</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">$micropayCallResult</span><span class="pun" style="color:rgb(102,102,0)">[</span><span class="str" style="color:rgb(0,136,0)">"return_code"</span><span class="pun" style="color:rgb(102,102,0)">]</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">==</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="str" style="color:rgb(0,136,0)">"FAIL"</span><span class="pun" style="color:rgb(102,102,0)">)</span><span class="pln" style="color:rgb(0,0,0)"> </span></li><li class="L0" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="pun" style="color:rgb(102,102,0)">{</span></li><li class="L1" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">                echo </span><span class="str" style="color:rgb(0,136,0)">"通信出错："</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">$micropayCallResult</span><span class="pun" style="color:rgb(102,102,0)">[</span><span class="str" style="color:rgb(0,136,0)">'return_msg'</span><span class="pun" style="color:rgb(102,102,0)">].</span><span class="str" style="color:rgb(0,136,0)">"&lt;br&gt;"</span><span class="pun" style="color:rgb(102,102,0)">;</span></li><li class="L2" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="pun" style="color:rgb(102,102,0)">}</span></li><li class="L3" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            elseif</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">$micropayCallResult</span><span class="pun" style="color:rgb(102,102,0)">[</span><span class="str" style="color:rgb(0,136,0)">"result_code"</span><span class="pun" style="color:rgb(102,102,0)">]</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">==</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="str" style="color:rgb(0,136,0)">"FAIL"</span><span class="pun" style="color:rgb(102,102,0)">)</span></li><li class="L4" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="pun" style="color:rgb(102,102,0)">{</span></li><li class="L5" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">                echo </span><span class="str" style="color:rgb(0,136,0)">"出错"</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="str" style="color:rgb(0,136,0)">"&lt;br&gt;"</span><span class="pun" style="color:rgb(102,102,0)">;</span></li><li class="L6" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">                echo </span><span class="str" style="color:rgb(0,136,0)">"错误代码："</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">$micropayCallResult</span><span class="pun" style="color:rgb(102,102,0)">[</span><span class="str" style="color:rgb(0,136,0)">'err_code'</span><span class="pun" style="color:rgb(102,102,0)">].</span><span class="str" style="color:rgb(0,136,0)">"&lt;br&gt;"</span><span class="pun" style="color:rgb(102,102,0)">;</span></li><li class="L7" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">                echo </span><span class="str" style="color:rgb(0,136,0)">"错误代码描述："</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">$micropayCallResult</span><span class="pun" style="color:rgb(102,102,0)">[</span><span class="str" style="color:rgb(0,136,0)">'err_code_des'</span><span class="pun" style="color:rgb(102,102,0)">].</span><span class="str" style="color:rgb(0,136,0)">"&lt;br&gt;"</span><span class="pun" style="color:rgb(102,102,0)">;</span></li><li class="L8" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="pun" style="color:rgb(102,102,0)">}</span></li><li class="L9" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="kwd" style="color:rgb(0,0,136)">else</span></li><li class="L0" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="pun" style="color:rgb(102,102,0)">{</span></li><li class="L1" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">                echo </span><span class="str" style="color:rgb(0,136,0)">"用户标识："</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">$micropayCallResult</span><span class="pun" style="color:rgb(102,102,0)">[</span><span class="str" style="color:rgb(0,136,0)">'openid'</span><span class="pun" style="color:rgb(102,102,0)">].</span><span class="str" style="color:rgb(0,136,0)">"&lt;br&gt;"</span><span class="pun" style="color:rgb(102,102,0)">;</span></li><li class="L2" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">                echo </span><span class="str" style="color:rgb(0,136,0)">"是否关注公众账号："</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">$micropayCallResult</span><span class="pun" style="color:rgb(102,102,0)">[</span><span class="str" style="color:rgb(0,136,0)">'is_subscribe'</span><span class="pun" style="color:rgb(102,102,0)">].</span><span class="str" style="color:rgb(0,136,0)">"&lt;br&gt;"</span><span class="pun" style="color:rgb(102,102,0)">;</span></li><li class="L3" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">                echo </span><span class="str" style="color:rgb(0,136,0)">"交易类型："</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">$micropayCallResult</span><span class="pun" style="color:rgb(102,102,0)">[</span><span class="str" style="color:rgb(0,136,0)">'trade_type'</span><span class="pun" style="color:rgb(102,102,0)">].</span><span class="str" style="color:rgb(0,136,0)">"&lt;br&gt;"</span><span class="pun" style="color:rgb(102,102,0)">;</span></li><li class="L4" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">                echo </span><span class="str" style="color:rgb(0,136,0)">"付款银行："</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">$micropayCallResult</span><span class="pun" style="color:rgb(102,102,0)">[</span><span class="str" style="color:rgb(0,136,0)">'bank_type'</span><span class="pun" style="color:rgb(102,102,0)">].</span><span class="str" style="color:rgb(0,136,0)">"&lt;br&gt;"</span><span class="pun" style="color:rgb(102,102,0)">;</span></li><li class="L5" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">                echo </span><span class="str" style="color:rgb(0,136,0)">"总金额："</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">$micropayCallResult</span><span class="pun" style="color:rgb(102,102,0)">[</span><span class="str" style="color:rgb(0,136,0)">'total_fee'</span><span class="pun" style="color:rgb(102,102,0)">].</span><span class="str" style="color:rgb(0,136,0)">"&lt;br&gt;"</span><span class="pun" style="color:rgb(102,102,0)">;</span></li><li class="L6" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">                echo </span><span class="str" style="color:rgb(0,136,0)">"现金券金额："</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">$micropayCallResult</span><span class="pun" style="color:rgb(102,102,0)">[</span><span class="str" style="color:rgb(0,136,0)">'coupon_fee'</span><span class="pun" style="color:rgb(102,102,0)">].</span><span class="str" style="color:rgb(0,136,0)">"&lt;br&gt;"</span><span class="pun" style="color:rgb(102,102,0)">;</span></li><li class="L7" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">                echo </span><span class="str" style="color:rgb(0,136,0)">"货币种类："</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">$micropayCallResult</span><span class="pun" style="color:rgb(102,102,0)">[</span><span class="str" style="color:rgb(0,136,0)">'fee_type'</span><span class="pun" style="color:rgb(102,102,0)">].</span><span class="str" style="color:rgb(0,136,0)">"&lt;br&gt;"</span><span class="pun" style="color:rgb(102,102,0)">;</span></li><li class="L8" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">                echo </span><span class="str" style="color:rgb(0,136,0)">"微信支付订单号："</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">$micropayCallResult</span><span class="pun" style="color:rgb(102,102,0)">[</span><span class="str" style="color:rgb(0,136,0)">'transaction_id'</span><span class="pun" style="color:rgb(102,102,0)">].</span><span class="str" style="color:rgb(0,136,0)">"&lt;br&gt;"</span><span class="pun" style="color:rgb(102,102,0)">;</span></li><li class="L9" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">                echo </span><span class="str" style="color:rgb(0,136,0)">"商户订单号："</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">$micropayCallResult</span><span class="pun" style="color:rgb(102,102,0)">[</span><span class="str" style="color:rgb(0,136,0)">'out_trade_no'</span><span class="pun" style="color:rgb(102,102,0)">].</span><span class="str" style="color:rgb(0,136,0)">"&lt;br&gt;"</span><span class="pun" style="color:rgb(102,102,0)">;</span></li><li class="L0" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">                echo </span><span class="str" style="color:rgb(0,136,0)">"商家数据包："</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">$micropayCallResult</span><span class="pun" style="color:rgb(102,102,0)">[</span><span class="str" style="color:rgb(0,136,0)">'attach'</span><span class="pun" style="color:rgb(102,102,0)">].</span><span class="str" style="color:rgb(0,136,0)">"&lt;br&gt;"</span><span class="pun" style="color:rgb(102,102,0)">;</span></li><li class="L1" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">                echo </span><span class="str" style="color:rgb(0,136,0)">"支付完成时间："</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">$micropayCallResult</span><span class="pun" style="color:rgb(102,102,0)">[</span><span class="str" style="color:rgb(0,136,0)">'time_end'</span><span class="pun" style="color:rgb(102,102,0)">].</span><span class="str" style="color:rgb(0,136,0)">"&lt;br&gt;"</span><span class="pun" style="color:rgb(102,102,0)">;</span></li><li class="L2" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="pun" style="color:rgb(102,102,0)">}</span></li><li class="L3" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span><span class="pun" style="color:rgb(102,102,0)">}</span></li><li class="L4" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span><span class="kwd" style="color:rgb(0,0,136)">else</span></li><li class="L5" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span><span class="pun" style="color:rgb(102,102,0)">{</span></li><li class="L6" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            $this</span><span class="pun" style="color:rgb(102,102,0)">-&gt;</span><span class="pln" style="color:rgb(0,0,0)">assign</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="str" style="color:rgb(0,136,0)">'out_trade_no'</span><span class="pun" style="color:rgb(102,102,0)">,</span><span class="pln" style="color:rgb(0,0,0)">$out_trade_no</span><span class="pun" style="color:rgb(102,102,0)">);</span></li><li class="L7" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            $this</span><span class="pun" style="color:rgb(102,102,0)">-&gt;</span><span class="pln" style="color:rgb(0,0,0)">display</span><span class="pun" style="color:rgb(102,102,0)">();</span></li><li class="L8" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span><span class="pun" style="color:rgb(102,102,0)">}</span></li><li class="L9" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">    </span><span class="pun" style="color:rgb(102,102,0)">}</span></li></ol><div class="think-copy" style="position:absolute; top:-1px; right:-1px; width:80px; height:27px; line-height:27px; text-align:center; border:1px solid rgb(204,204,204)">&#13;
<span style="display:inline-block; width:80px; height:27px">复制代码</span></div>&#13;
<div class="zclip" id="zclip-ZeroClipboardMovie_2" style="position:absolute; left:605px; top:-1px; width:82px; height:29px; z-index:99">&#13;
</div>&#13;
<span style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px">这是我写的控制器方法内容，对应micropay.html页面：</span><code class="prettyprint linenums lang-php prettyprinted" style="position:relative; border:1px solid rgb(209,215,220); padding:2px; font-size:14px; display:block; font-family:Consolas,'Liberation Mono',Courier,monospace,微软雅黑; margin:10px 0px; word-wrap:break-word; color:rgb(50,50,50)"/>&#13;
<ol class="linenums" style="margin:0px 0px 0px 40px; padding:0px; color:rgb(43,165,216); list-style-position:outside"><li class="L0" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="dec" style="color:rgb(102,0,102)">&lt;!DOCTYPE HTML&gt;</span></li><li class="L1" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)"> </span><span class="tag" style="color:rgb(0,0,136)">&lt;html&gt;</span></li><li class="L2" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)"> </span><span class="tag" style="color:rgb(0,0,136)">&lt;head&gt;</span></li><li class="L3" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">    </span><span class="tag" style="color:rgb(0,0,136)">&lt;meta</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="atn" style="color:rgb(102,0,102)">charset</span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="atv" style="color:rgb(0,136,0)">"UTF-8"</span><span class="tag" style="color:rgb(0,0,136)">&gt;</span></li><li class="L4" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">    </span><span class="tag" style="color:rgb(0,0,136)">&lt;title&gt;</span><span class="pln" style="color:rgb(0,0,0)">微信安全支付</span><span class="tag" style="color:rgb(0,0,136)">&lt;/title&gt;</span></li><li class="L5" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)"> </span><span class="tag" style="color:rgb(0,0,136)">&lt;/head&gt;</span></li><li class="L6" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)"> </span><span class="tag" style="color:rgb(0,0,136)">&lt;body&gt;</span></li><li class="L7" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">    </span><span class="tag" style="color:rgb(0,0,136)">&lt;/br&gt;&lt;/br&gt;</span></li><li class="L8" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">    </span><span class="tag" style="color:rgb(0,0,136)">&lt;div</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="atn" style="color:rgb(102,0,102)">align</span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="atv" style="color:rgb(0,136,0)">"center"</span><span class="tag" style="color:rgb(0,0,136)">&gt;</span></li><li class="L9" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span><span class="tag" style="color:rgb(0,0,136)">&lt;form</span><span class="pln" style="color:rgb(0,0,0)">  </span><span class="atn" style="color:rgb(102,0,102)">action</span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="atv" style="color:rgb(0,136,0)">"__SELF__"</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="atn" style="color:rgb(102,0,102)">method</span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="atv" style="color:rgb(0,136,0)">"post"</span><span class="tag" style="color:rgb(0,0,136)">&gt;</span></li><li class="L0" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="tag" style="color:rgb(0,0,136)">&lt;p&gt;</span><span class="pln" style="color:rgb(0,0,0)">请输入微信刷卡界面的一维码:</span><span class="tag" style="color:rgb(0,0,136)">&lt;/p&gt;</span></li><li class="L1" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="tag" style="color:rgb(0,0,136)">&lt;p&gt;&lt;input</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="atn" style="color:rgb(102,0,102)">type</span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="atv" style="color:rgb(0,136,0)">"text"</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="atn" style="color:rgb(102,0,102)">name</span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="atv" style="color:rgb(0,136,0)">"auth_code"</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="atn" style="color:rgb(102,0,102)">value</span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="atv" style="color:rgb(0,136,0)">""</span><span class="tag" style="color:rgb(0,0,136)">&gt;&lt;/p&gt;</span></li><li class="L2" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="tag" style="color:rgb(0,0,136)">&lt;button</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="atn" style="color:rgb(102,0,102)">type</span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="atv" style="color:rgb(0,136,0)">"submit"</span><span class="tag" style="color:rgb(0,0,136)">&gt;</span><span class="pln" style="color:rgb(0,0,0)">提交</span><span class="tag" style="color:rgb(0,0,136)">&lt;/button&gt;</span></li><li class="L3" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span><span class="tag" style="color:rgb(0,0,136)">&lt;/form&gt;</span></li><li class="L4" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">    </span><span class="tag" style="color:rgb(0,0,136)">&lt;/div&gt;</span></li><li class="L5" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span></li><li class="L6" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">    </span><span class="tag" style="color:rgb(0,0,136)">&lt;div</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="atn" style="color:rgb(102,0,102)">align</span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="atv" style="color:rgb(0,136,0)">"center"</span><span class="tag" style="color:rgb(0,0,136)">&gt;</span></li><li class="L7" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span><span class="tag" style="color:rgb(0,0,136)">&lt;p&gt;</span><span class="pln" style="color:rgb(0,0,0)">订单号：</span><span class="pun" style="color:rgb(102,102,0)">&lt;?</span><span class="pln" style="color:rgb(0,0,0)">php echo $out_trade_no</span><span class="pun" style="color:rgb(102,102,0)">;</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">?&gt;</span><span class="tag" style="color:rgb(0,0,136)">&lt;/p&gt;</span></li><li class="L8" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">    </span><span class="tag" style="color:rgb(0,0,136)">&lt;/div&gt;</span></li><li class="L9" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">    </span></li><li class="L0" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">    </span><span class="tag" style="color:rgb(0,0,136)">&lt;div</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="atn" style="color:rgb(102,0,102)">align</span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="atv" style="color:rgb(0,136,0)">"center"</span><span class="tag" style="color:rgb(0,0,136)">&gt;</span></li><li class="L1" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">    </span><span class="tag" style="color:rgb(0,0,136)">&lt;table&gt;</span></li><li class="L2" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span><span class="tag" style="color:rgb(0,0,136)">&lt;td&gt;</span></li><li class="L3" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span><span class="tag" style="color:rgb(0,0,136)">&lt;form</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="atn" style="color:rgb(102,0,102)">action</span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="atv" style="color:rgb(0,136,0)">"./order_query.php"</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="atn" style="color:rgb(102,0,102)">method</span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="atv" style="color:rgb(0,136,0)">"post"</span><span class="tag" style="color:rgb(0,0,136)">&gt;</span></li><li class="L4" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            &lt;input name="out_trade_no" type='hidden' value="</span><span class="pun" style="color:rgb(102,102,0)">&lt;?</span><span class="pln" style="color:rgb(0,0,0)">php echo $out_trade_no</span><span class="pun" style="color:rgb(102,102,0)">;</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">?&gt;</span><span class="pln" style="color:rgb(0,0,0)">"&gt;</span></li><li class="L5" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="tag" style="color:rgb(0,0,136)">&lt;button</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="atn" style="color:rgb(102,0,102)">type</span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="atv" style="color:rgb(0,136,0)">"submit"</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="tag" style="color:rgb(0,0,136)">&gt;</span><span class="pln" style="color:rgb(0,0,0)">查询订单状态</span><span class="tag" style="color:rgb(0,0,136)">&lt;/button&gt;</span></li><li class="L6" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span><span class="tag" style="color:rgb(0,0,136)">&lt;/form&gt;</span></li><li class="L7" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span><span class="tag" style="color:rgb(0,0,136)">&lt;/td&gt;</span></li><li class="L8" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span></li><li class="L9" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span></li><li class="L0" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span><span class="tag" style="color:rgb(0,0,136)">&lt;td&gt;</span></li><li class="L1" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span><span class="tag" style="color:rgb(0,0,136)">&lt;form</span><span class="pln" style="color:rgb(0,0,0)">  </span><span class="atn" style="color:rgb(102,0,102)">action</span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="atv" style="color:rgb(0,136,0)">"./refund.php"</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="atn" style="color:rgb(102,0,102)">method</span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="atv" style="color:rgb(0,136,0)">"post"</span><span class="tag" style="color:rgb(0,0,136)">&gt;</span></li><li class="L2" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            &lt;input name="out_trade_no" type='hidden' value="</span><span class="pun" style="color:rgb(102,102,0)">&lt;?</span><span class="pln" style="color:rgb(0,0,0)">php echo $out_trade_no</span><span class="pun" style="color:rgb(102,102,0)">;</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">?&gt;</span><span class="pln" style="color:rgb(0,0,0)">"&gt;</span></li><li class="L3" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="tag" style="color:rgb(0,0,136)">&lt;input</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="atn" style="color:rgb(102,0,102)">name</span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="atv" style="color:rgb(0,136,0)">"refund_fee"</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="atn" style="color:rgb(102,0,102)">type</span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="atv" style="color:rgb(0,136,0)">'hidden'</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="atn" style="color:rgb(102,0,102)">value</span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="atv" style="color:rgb(0,136,0)">"1"</span><span class="tag" style="color:rgb(0,0,136)">&gt;</span></li><li class="L4" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="tag" style="color:rgb(0,0,136)">&lt;button</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="atn" style="color:rgb(102,0,102)">type</span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="atv" style="color:rgb(0,136,0)">"submit"</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="tag" style="color:rgb(0,0,136)">&gt;</span><span class="pln" style="color:rgb(0,0,0)">申请退款</span><span class="tag" style="color:rgb(0,0,136)">&lt;/button&gt;</span></li><li class="L5" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span><span class="tag" style="color:rgb(0,0,136)">&lt;/form&gt;</span></li><li class="L6" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span><span class="tag" style="color:rgb(0,0,136)">&lt;/td&gt;</span></li><li class="L7" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span></li><li class="L8" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span><span class="tag" style="color:rgb(0,0,136)">&lt;td&gt;</span></li><li class="L9" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span><span class="tag" style="color:rgb(0,0,136)">&lt;form</span><span class="pln" style="color:rgb(0,0,0)">  </span><span class="atn" style="color:rgb(102,0,102)">action</span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="atv" style="color:rgb(0,136,0)">"./reverse.php"</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="atn" style="color:rgb(102,0,102)">method</span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="atv" style="color:rgb(0,136,0)">"post"</span><span class="tag" style="color:rgb(0,0,136)">&gt;</span></li><li class="L0" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            &lt;input name="out_trade_no" type='hidden' value="</span><span class="pun" style="color:rgb(102,102,0)">&lt;?</span><span class="pln" style="color:rgb(0,0,0)">php echo $out_trade_no</span><span class="pun" style="color:rgb(102,102,0)">;</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">?&gt;</span><span class="pln" style="color:rgb(0,0,0)">"&gt;</span></li><li class="L1" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">            </span><span class="tag" style="color:rgb(0,0,136)">&lt;button</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="atn" style="color:rgb(102,0,102)">type</span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="atv" style="color:rgb(0,136,0)">"submit"</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="tag" style="color:rgb(0,0,136)">&gt;</span><span class="pln" style="color:rgb(0,0,0)">冲正</span><span class="tag" style="color:rgb(0,0,136)">&lt;/button&gt;</span></li><li class="L2" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span><span class="tag" style="color:rgb(0,0,136)">&lt;/form&gt;</span></li><li class="L3" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span><span class="tag" style="color:rgb(0,0,136)">&lt;/td&gt;</span></li><li class="L4" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">    </span><span class="tag" style="color:rgb(0,0,136)">&lt;/table&gt;</span></li><li class="L5" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">    </span><span class="tag" style="color:rgb(0,0,136)">&lt;/div&gt;</span></li><li class="L6" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span></li><li class="L7" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">    </span><span class="tag" style="color:rgb(0,0,136)">&lt;br&gt;</span></li><li class="L8" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">    </span><span class="tag" style="color:rgb(0,0,136)">&lt;div</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="atn" style="color:rgb(102,0,102)">align</span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="atv" style="color:rgb(0,136,0)">"center"</span><span class="tag" style="color:rgb(0,0,136)">&gt;</span></li><li class="L9" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">        </span><span class="tag" style="color:rgb(0,0,136)">&lt;a</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="atn" style="color:rgb(102,0,102)">href</span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="atv" style="color:rgb(0,136,0)">"../index.php"</span><span class="tag" style="color:rgb(0,0,136)">&gt;</span><span class="pln" style="color:rgb(0,0,0)">返回首页</span><span class="tag" style="color:rgb(0,0,136)">&lt;/a&gt;</span></li><li class="L0" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)">    </span><span class="tag" style="color:rgb(0,0,136)">&lt;/div&gt;</span></li><li class="L1" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)"/></li><li class="L2" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)"> </span><span class="tag" style="color:rgb(0,0,136)">&lt;/body&gt;</span></li><li class="L3" style="margin:0px; padding:0px 5px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:23px; background-color:rgb(250,250,250)">&#13;
<span class="pln" style="color:rgb(0,0,0)"> </span><span class="tag" style="color:rgb(0,0,136)">&lt;/html&gt;</span></li></ol><div class="think-copy" style="position:absolute; top:-1px; right:-1px; width:80px; height:27px; line-height:27px; text-align:center; border:1px solid rgb(204,204,204)">&#13;
<span style="display:inline-block; width:80px; height:27px">复制代码</span></div>&#13;
<div class="zclip" id="zclip-ZeroClipboardMovie_3" style="position:absolute; left:605px; top:-1px; width:82px; height:29px; z-index:99">&#13;
</div>&#13;
<span style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px">到此我们就可以去测试一下了</span><br style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px"/><span style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px">请看页面：</span><br style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px"/><a target="_blank" href="http://www.thinkphp.cn/Uploads/editor/2015-07-07/559b6aad26c4e.png" style="color:rgb(114,185,57); text-decoration:none; font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px"><img src="http://www.thinkphp.cn/Uploads/editor/2015-07-07/559b6aad26c4e.png" alt="" style="margin:10px 0px; padding:0px; border:0px; max-width:688px"/></a><br style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px"/><span style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px">页面中刷卡的一维码就是你微信里面钱包下面的刷卡功能，打开后就可以看到你的一维码，这个一维码是过一段时间就自己刷新的，输入进去点击提交，请看微信页面：</span><br style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px"/><a target="_blank" href="http://www.thinkphp.cn/Uploads/editor/2015-07-07/559b6bb11cbe4.png" style="color:rgb(114,185,57); text-decoration:none; font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px"><img src="http://www.thinkphp.cn/Uploads/editor/2015-07-07/559b6bb11cbe4.png" alt="" style="margin:10px 0px; padding:0px; border:0px; max-width:688px"/></a><br style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px"/><span style="color:rgb(50,50,50); font-family:'Century Gothic','Microsoft yahei'; font-size:16px; line-height:28.8px">到此，刷卡支付功能也做好啦</span>&#13;
&#13;
                      </div>  </body>
            </html>