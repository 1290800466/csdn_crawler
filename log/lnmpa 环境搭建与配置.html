<!DOCTYPE html>
            <html>
              <head>
                <meta http-equiv="content-type" content="text/html; charset=utf-8">
                <meta http-equiv="X-UA-Compatible" content="IE=Edge">
                <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
                <meta name="apple-mobile-web-app-status-bar-style" content="black">

                <meta http-equiv="Cache-Control" content="no-siteapp" /><link rel="alternate" media="handheld" href="#" />

                <title></title>
              </head>
              <body><div class="skin_detail" id="article_content">&#13;
                        <div class="markdown_views"><p><strong>1、lnmpa安装包下载地址：</strong> <br/><a href="https://lnmp.org/download.html">https://lnmp.org/download.html</a></p>

<p><strong>2、lnmpa 安装配置说明：</strong></p>



<pre class="prettyprint"><code class=" hljs bash">安装之前新建用户  www  在组 www 下，
将安装包放到 /home/www 下，
解压进入到安装包，执行安装   <span class="hljs-built_in">sudo</span> ./install.sh lnmpa</code></pre>



<pre class="prettyprint"><code class=" hljs avrasm">LNMP一键安装包是一个用Linux Shell编写的可以为CentOS/RadHat/Fedora、Debian/Ubuntu/Raspbian/Deepin
Linux VPS或独立主机安装LNMP(Nginx/MySQL/PHP)、LNMPA(Nginx/MySQL/PHP/Apache)、LAMP(Apache/MySQL/PHP)生产环境的Shell程序。同时提供一些实用的辅助工具如：虚拟主机管理、FTP用户管理、
Nginx、MySQL/MariaDB、PHP的升级、常用缓存组件的安装、重置MySQL root密码、<span class="hljs-number">502</span>自动重启、日志切割、
SSH防护DenyHosts/Fail2Ban、备份等许多实用脚本。

安装：
从  https://lnmp<span class="hljs-preprocessor">.org</span>/download<span class="hljs-preprocessor">.html</span> 下载最新版lnmp安装包
执行
tar zxf lnmp1<span class="hljs-number">.3</span>-full<span class="hljs-preprocessor">.tar</span><span class="hljs-preprocessor">.gz</span> 
cd lnmp1<span class="hljs-number">.3</span>-full 
./install<span class="hljs-preprocessor">.sh</span> {lnmp|lnmpa|lamp}

注意:<span class="hljs-number">1.3</span>版增加了lnmp<span class="hljs-preprocessor">.conf</span>配置文件，可以自定义下载服务器地址、数据库目录及nginx和php编译参数，不论安装升级都会调用该文件里的设置，安装或升级时可跟进需求自己更改。

常用功能：
以下操作需lnmp目录下执行，如lnmp1<span class="hljs-number">.3</span>-full或lnmp1<span class="hljs-number">.3</span>
FTP服务器
 执行：./pureftpd<span class="hljs-preprocessor">.sh</span> 安装，可使用lnmp ftp {<span class="hljs-keyword">add</span>|list|del}进行管理。

升级脚本：
 执行：./upgrade<span class="hljs-preprocessor">.sh</span> 按提示进行选择
也可以直接使用参数：./upgrade<span class="hljs-preprocessor">.sh</span> {nginx|mysql|mariadb|php|phpa|m2m|phpmyadmin}
  参数: nginx 可升级至任意Nginx版本。
  参数: mysql 可升级至任意MySQL版本，MySQL升级风险较大，虽然会自动备份数据，依然建议自行再备份一下。
  参数: mariadb 可升级已安装的Mariadb，虽然会自动备份数据，依然建议自行再备份一下。
  参数: m2m    可从MySQL升级至Mariadb，虽然会自动备份数据，依然建议自行再备份一下。
  参数: php   仅适用于LNMP，可升级至大部分PHP版本。
  参数: phpa    可升级LNMPA/LAMP的PHP至大部分版本。
  参数: phpmyadmin    可升级phpMyadmin。

扩展插件
  执行: ./addons<span class="hljs-preprocessor">.sh</span> {install|uninstall} {eaccelerator|xcache|memcached|opcache|redis|imagemagick|ioncube}
缓存加速：
  参数: xcache 安装时需选择版本和设置密码，http://yourIP/xcache/ 进行管理，用户名 admin，密码为安装xcache时设置的。
  参数: redis
  参数: memcached 可选择php-memcache或php-memcached扩展。
  参数: opcache http://yourIP/ocp<span class="hljs-preprocessor">.php</span> 进行管理。
  参数: eaccelerator 安装。  
    请勿安装多个缓存类扩展模块，多个可能导致网站出现问题 ！

图像处理：
  参数: ./addons<span class="hljs-preprocessor">.sh</span> {install|uninstall} imageMagick imageMagick路径：/usr/local/imagemagick/bin/。

解密：
  IonCube，执行：./addons<span class="hljs-preprocessor">.sh</span> {install|uninstall} ionCube 。

其他：
  可选<span class="hljs-number">1</span>，执行：./php5<span class="hljs-number">.2</span><span class="hljs-number">.17</span><span class="hljs-preprocessor">.sh</span> 可安装一个不与LNMP冲突的PHP <span class="hljs-number">5.2</span><span class="hljs-number">.17</span>单独存在，目录在/usr/local/php52/，使用时需要将nginx虚拟主机配置文件里的 php-cgi<span class="hljs-preprocessor">.sock</span> 修改为 php-cgi52<span class="hljs-preprocessor">.sock</span>即可调用PHP5<span class="hljs-number">.2</span><span class="hljs-number">.17</span>。
  以下工具在lnmp安装包tools目录下
  可选<span class="hljs-number">2</span>，执行：./reset_mysql_root_password<span class="hljs-preprocessor">.sh</span> 可重置MySQL/MariaDB的root密码。
  可选<span class="hljs-number">3</span>，执行：./check502<span class="hljs-preprocessor">.sh</span>  可检测php-fpm是否挂掉,<span class="hljs-number">502</span>报错时重启，配合crontab使用。
  可选<span class="hljs-number">4</span>，执行：./cut_nginx_logs<span class="hljs-preprocessor">.sh</span> 日志切割脚本。
  可选<span class="hljs-number">5</span>，执行：./remove_disable_function<span class="hljs-preprocessor">.sh</span> 运行此脚本可删掉禁用函数。

卸载
  卸载LNMP、LNMPA或LAMP可执行：./uninstall<span class="hljs-preprocessor">.sh</span> 按提示选择即可卸载。

状态管理
  LNMP/LNMPA/LMAP状态管理：lnmp {start|stop|reload|restart|kill|status}
  Nginx状态管理：lnmp nginx或/etc/init<span class="hljs-preprocessor">.d</span>/nginx {start|stop|reload|restart}
  MySQL状态管理：lnmp mysql或/etc/init<span class="hljs-preprocessor">.d</span>/mysql {start|stop|restart|reload|force-reload|status}
  MariaDB状态管理：lnmp mariadb或/etc/init<span class="hljs-preprocessor">.d</span>/mariadb {start|stop|restart|reload|force-reload|status}
  PHP-FPM状态管理：lnmp php-fpm或/etc/init<span class="hljs-preprocessor">.d</span>/php-fpm {start|stop|quit|restart|reload|logrotate}
  PureFTPd状态管理：lnmp pureftpd或/etc/init<span class="hljs-preprocessor">.d</span>/pureftpd {start|stop|restart|kill|status}
  Apache状态管理：lnmp httpd或/etc/init<span class="hljs-preprocessor">.d</span>/httpd {start|stop|restart|graceful|graceful-stop|configtest|status}

虚拟主机管理
  添加：lnmp vhost <span class="hljs-keyword">add</span>
  删除：lnmp vhost del
  列出：lnmp vhost list

相关图形界面
  PHPMyAdmin：http://yourIP/phpmyadmin/
  phpinfo：http://yourIP/phpinfo<span class="hljs-preprocessor">.php</span>
  PHP探针：http://yourIP/p<span class="hljs-preprocessor">.php</span>
  Xcache管理界面：http://yourIP/xcache/
  Zend Opcache管理界面：http://yourIP/ocp<span class="hljs-preprocessor">.php</span>

LNMP相关目录文件

 目录位置
  Nginx：/usr/local/nginx/
  MySQL：/usr/local/mysql/
  MariaDB：/usr/local/mariadb/
  PHP：/usr/local/php/
  PHPMyAdmin：/home/wwwroot/default/phpmyadmin/
  默认虚拟主机网站目录：/home/wwwroot/default/
  Nginx日志目录：/home/wwwlogs/

 配置文件：
  Nginx主配置文件：/usr/local/nginx/conf/nginx<span class="hljs-preprocessor">.conf</span>
  MySQL/MariaDB配置文件：/etc/my<span class="hljs-preprocessor">.cnf</span>
  PHP配置文件：/usr/local/php/etc/php<span class="hljs-preprocessor">.ini</span>
  PHP-FPM配置文件：/usr/local/php/etc/php-fpm<span class="hljs-preprocessor">.conf</span>
  PureFtpd配置文件：/usr/local/pureftpd/etc/pure-ftpd<span class="hljs-preprocessor">.conf</span>
  Apache配置文件：/usr/local/apache/conf/httpd<span class="hljs-preprocessor">.conf</span>

技术支持论坛：http://bbs<span class="hljs-preprocessor">.vpser</span><span class="hljs-preprocessor">.net</span>/forum-<span class="hljs-number">25</span>-<span class="hljs-number">1.</span>html</code></pre>

<p><strong>php文件操作权限问题：</strong></p>



<pre class="prettyprint"><code class=" hljs avrasm"><span class="hljs-number">1</span>、服务器通过设置 open_basedir 确定哪些目录可以被访问：
<span class="hljs-label">Apache:</span>
php_admin_value open_basedir <span class="hljs-string">"/home/wwwroot/ip.cheyun.com:/tmp/:/var/tmp/:/proc/:/date/"</span>
参考文章：
<span class="hljs-label">http:</span>//blog<span class="hljs-preprocessor">.csdn</span><span class="hljs-preprocessor">.net</span>/toney520/article/details/<span class="hljs-number">25954387</span>
<span class="hljs-label">nginx:</span> 参考如下文章
<span class="hljs-label">http:</span>//www<span class="hljs-number">.111</span>cn<span class="hljs-preprocessor">.net</span>/sys/nginx/<span class="hljs-number">61498.</span>htm
<span class="hljs-label">http:</span>//blog<span class="hljs-preprocessor">.chinaunix</span><span class="hljs-preprocessor">.net</span>/uid-<span class="hljs-number">26729093</span>-id-<span class="hljs-number">4780651.</span>html
<span class="hljs-number">2</span>、具体被访问文件改为设置：
用户和用户组改为  root<span class="hljs-preprocessor">.root</span>   ,  文件权限改为可用的最小权限  </code></pre></div><link rel="stylesheet" href="http://static.blog.csdn.net/public/res-min/markdown_views.css?v=1.0"/></div>  </body>
            </html>