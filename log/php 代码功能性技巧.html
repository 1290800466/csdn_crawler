<!DOCTYPE html>
            <html>
              <head>
                <meta http-equiv="content-type" content="text/html; charset=utf-8">
                <meta http-equiv="X-UA-Compatible" content="IE=Edge">
                <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
                <meta name="apple-mobile-web-app-status-bar-style" content="black">

                <meta http-equiv="Cache-Control" content="no-siteapp" /><link rel="alternate" media="handheld" href="#" />

                <title></title>
              </head>
              <body><div class="skin_detail" id="article_content">&#13;
                        <div class="markdown_views"><p><strong>1、如果未定义，禁止访问！</strong>  <br/>
如果你正确的创建了页面，那么任何其他人没有理由访问index.php之外的php页面。一旦index.php被访问后，你可以通过获得引入其他文件的方式来打开需要的页面。你的index页面应该包含类似的以下代码： </p>

<pre class="prettyprint"><code class=" hljs lasso"><span class="hljs-class"><span class="hljs-keyword">define</span></span>(<span class="hljs-string">'yourPage'</span>,<span class="hljs-number">1</span>);</code></pre>

<p>然后，其它页面应该包含： </p>

<pre class="prettyprint"><code class=" hljs perl"><span class="hljs-keyword">if</span> (!<span class="hljs-keyword">defined</span>(<span class="hljs-string">'yourPage'</span>)) <span class="hljs-keyword">die</span>(<span class="hljs-string">'Access Denied'</span>);</code></pre>

<p>这么做的目的是防止直接访问你的其它php页面。这样，任何试图不通过index.php访问其它网页的人，将得到“访问被拒绝”的消息。  <br/>
这种方式比较适用于后台管理系统，用来限制系统访问，必须先访问自定义首页才可访问系统！ <br/>
以tp框架为例，默认入口文件为admin.php <br/>
此时可定义一个文件，an.php: <br/>
代码如下：</p>

<pre class="prettyprint"><code class=" hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>
define(<span class="hljs-string">"ADMIN_ROOT"</span>,<span class="hljs-number">1</span>);
<span class="hljs-keyword">require</span> <span class="hljs-string">"admin.php"</span>;
<span class="hljs-preprocessor">?&gt;</span></span></code></pre>

<p>admin.php 文件如下：</p>



<pre class="prettyprint"><code class=" hljs lasso"><span class="hljs-subst">&lt;?</span>php 
<span class="hljs-keyword">if</span>(<span class="hljs-subst">!</span>defined(<span class="hljs-string">"ADMIN_ROOT"</span>))
{
    die(<span class="hljs-string">"Invalid access"</span>);
}

<span class="hljs-class"><span class="hljs-keyword">define</span></span>(<span class="hljs-string">'THINK_PATH'</span>, <span class="hljs-string">'./admin/ThinkPHP'</span>);
<span class="hljs-comment">//定义项目名称和路径</span>
<span class="hljs-class"><span class="hljs-keyword">define</span></span>(<span class="hljs-string">'APP_NAME'</span>, <span class="hljs-string">'admin'</span>);
<span class="hljs-class"><span class="hljs-keyword">define</span></span>(<span class="hljs-string">'APP_PATH'</span>, <span class="hljs-string">'./admin'</span>);

<span class="hljs-comment">// 加载框架入口文件 </span>
<span class="hljs-keyword">require</span>(THINK_PATH<span class="hljs-built_in">.</span><span class="hljs-string">"/ThinkPHP.php"</span>);

<span class="hljs-preprocessor">?&gt;</span><span class="hljs-markup"/></code></pre></div><link rel="stylesheet" href="http://static.blog.csdn.net/public/res-min/markdown_views.css?v=1.0"/></div>  </body>
            </html>