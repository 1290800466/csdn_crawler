<!DOCTYPE html>
            <html>
              <head>
                <meta http-equiv="content-type" content="text/html; charset=utf-8">
                <meta http-equiv="X-UA-Compatible" content="IE=Edge">
                <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
                <meta name="apple-mobile-web-app-status-bar-style" content="black">

                <meta http-equiv="Cache-Control" content="no-siteapp" /><link rel="alternate" media="handheld" href="#" />

                <title></title>
              </head>
              <body><div class="skin_detail" id="article_content">&#13;
                        &#13;
<div style="font-family:Arial; font-size:14px; line-height:26px">1、命令格式</div>&#13;
<span style="font-family:Arial; font-size:14px; line-height:26px">ab命令放在apache目录bin目录下面，使用方法如下</span>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px">./ab -n 3000 -c 3000 http://www.test.com/</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px">其中-n代表每次并发量，-c代表总共发送的数量</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px"><br/></div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px">2、测试结果分析</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px">&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">[root@Svr107 bin]# ./ab -n 3000 -c 3000 http://www.</span>test<span style="font-size:10px; color:rgb(128,0,0)">.com/  </span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">This is ApacheBench, Version 2.3 &lt;$Revision: 655654 $&gt;</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Licensed to The Apache Software Foundation, http://www.apache.org/</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)"><br/></span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Benchmarking www.twioo.com (be patient)</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Completed 300 requests</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Completed 600 requests</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Completed 900 requests</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Completed 1200 requests</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Completed 1500 requests</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Completed 1800 requests</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Completed 2100 requests</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Completed 2400 requests</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Completed 2700 requests</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Completed 3000 requests</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Finished 3000 requests</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)"><br/></span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)"><br/></span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Server Software:        nginx/0.7.65</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Server Hostname:        www.</span><span style="font-size:10px; color:rgb(128,0,0)">test.com</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Server Port:            80</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)"><br/></span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Document Path:          /  ###请求的资源</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Document Length:        50679 bytes  ###文档返回的长度，不包括相应头</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)"><br/></span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Concurrency Level:      3000   ###并发个数</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Time taken for tests:   30.449 seconds   ###总请求时间</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Complete requests:      3000     ###总请求数</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Failed requests:        0     </span><span style="font-size:10px">###失败的请求数</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Write errors:           0</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Total transferred:      152745000 bytes</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">HTML transferred:       152037000 bytes</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Requests per second:    98.52 [#/sec] (mean)      </span><span style="font-size:10px">###平均每秒的请求数</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Time per request:       30449.217 [ms] (mean)     </span><span style="font-size:10px">###平均每个请求消耗的时间</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Time per request:       10.150 [ms] (mean, across all concurrent requests)  </span><span style="font-size:10px">###上面的请求除以并发数</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Transfer rate:          4898.81 [Kbytes/sec] received   </span><span style="font-size:10px">###传输速率</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)"><br/></span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Connection Times (ms)</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">              min  mean[+/-sd] median   max</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Connect:        2   54  27.1     55      98</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Processing:    51 8452 5196.8   7748   30361</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Waiting:       50 6539 5432.8   6451   30064</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Total:         54 8506 5210.5   7778   30436</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)"><br/></span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">Percentage of the requests served within a certain time (ms)</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">  50%   7778   </span><span style="font-size:10px">###50%的请求都在7778Ms内完成</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">  66%  11059</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">  75%  11888</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">  80%  12207</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">  90%  13806</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">  95%  18520</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">  98%  24232</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)">  99%  24559</span></div>&#13;
<div><span style="font-size:10px; color:rgb(128,0,0)"> 100%  30436 (longest request)</span></div>&#13;
</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px"><span style="font-size:10px; color:rgb(128,0,0)"><br/></span></div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px"><span style="font-size:10px; color:rgb(128,0,0)"><br/></span></div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px"><span style="font-size:10px; color:rgb(128,0,0)">3、如果用ab访问的是他本机上的web服务器，使用127.0.0.1或者是web服务器上的网卡IP地址，这个是不走网络设备的，可以忽略网络消耗</span></div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px"><span style="font-size:10px; color:rgb(128,0,0)"><br/></span></div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px"><span style="font-size:10px; color:rgb(128,0,0)"><br/></span></div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px"><span style="font-size:10px">4、ab使用的一些问题</span></div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px"><span style="font-size:10px">a、ab命令在一般系统上面做测试时候，一般并发不能超过1024个，其实是因为因为系统限制每个进程打开的最大文件数为1024，可以用ulimit -a来查看</span></div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px"><span style="font-size:10px; color:rgb(240,0,0)">open files                      (-n) 65536  </span><span style="font-size:10px">##这个我系统已经修改过</span></div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px"><span style="font-size:10px">b、-n 可以指定最大请求数，但是不能超过50000个</span></div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px"><span style="font-size:12px">c、<span style="font-family:'Courier New'; line-height:25px">-v n   当n&gt;=2 时，可以显示发送的http请求头，和响应的http头及内容,压力测试时不要这么做</span></span></div>&#13;
<span style="font-family:Arial; line-height:26px; font-size:10px"/><span style="font-family:Arial; font-size:14px; line-height:26px"/>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
[root@Svr107 bin]# ./ab -n 1 -c 1 -v 2  http://www.test.com/</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
This is ApacheBench, Version 2.3 &lt;$Revision: 655654 $&gt;</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Licensed to The Apache Software Foundation, http://www.apache.org/</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
<br/></div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Benchmarking www.test.com (be patient)...INFO: POST header == </div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
---</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
GET / HTTP/1.0</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Host: www.test.com</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
User-Agent: ApacheBench/2.3</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Accept: */*</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
<br/></div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
<br/></div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
---</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
LOG: header received:</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
HTTP/1.1 200 OK</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Server: nginx/0.7.65</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Date: Thu, 01 Dec 2011 13:08:16 GMT</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Content-Type: text/html</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Connection: close</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Vary: Accept-Encoding</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Content-Length: 50515</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Last-Modified: Thu, 01 Dec 2011 13:08:04 GMT</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Accept-Ranges: bytes</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
<br/></div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
&lt;!DOCTYPE html&gt;</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
&lt;html&gt;</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
&lt;head&gt;</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
        &lt;meta charset="utf-8" /&gt;</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
        &lt;title&gt;微博,财经微博,理财微博社区-专业投资理财微博社区-推哦网&lt;/title&gt;</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
        &lt;meta http-equiv="x-ua-compatible" content="ie=7" /&gt;</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
        &lt;meta name="keywords" content="股票证券分析网,微博网站,个人理财网站,财经微博,投资理财论坛,理财微博网站"/&gt;</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
        &lt;meta name="description" content="推哦网是一个开放的,基于用户关系的投资理财微博网站,我们采用流行的微博模式,让信息和分享更快速更高效的传播,致力于打造一个简单,分享,交流,创造,共赢的金融环境"/&gt;</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
        &lt;link rel="stylesheet" type="text/css" href="http://www.test.com/css/global.css" media="screen" /&gt;</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
        &lt;link rel="stylesheet" type="text/css" href="http://www.test.com/css/base.css" media="screen"/&gt;</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
        &lt;link rel="stylesheet" type="text/css" href="http://www.test.com/css/index.css" media="screen"/&gt;</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
        &lt;link rel="stylesheet" type="text/css" href="http://www.test.com/css/skin/vista/ymPrompt.css" /&gt;</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
        &lt;script src="http://www.test.com/include/javascript/ymPrompt.js" type="text/javascript"&gt;&lt;/script&gt;</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
        &lt;script src="http://www.test.com/include/javascript/miniblog.js" type="text/javascript"&gt;&lt;/script&gt;</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
        &lt;sc</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
..done</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
<br/></div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
<br/></div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Server Software:        nginx/0.7.65</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Server Hostname:        www.test.com</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Server Port:            80</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
<br/></div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Document Path:          /</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Document Length:        50515 bytes</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
<br/></div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Concurrency Level:      1</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Time taken for tests:   0.006 seconds</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Complete requests:      1</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Failed requests:        0</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Write errors:           0</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Total transferred:      50751 bytes</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
HTML transferred:       50515 bytes</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Requests per second:    176.27 [#/sec] (mean)</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Time per request:       5.673 [ms] (mean)</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Time per request:       5.673 [ms] (mean, across all concurrent requests)</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Transfer rate:          8736.39 [Kbytes/sec] received</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
<br/></div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Connection Times (ms)</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
              min  mean[+/-sd] median   max</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Connect:        0    0   0.0      0       0</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Processing:     5    5   0.0      5       5</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Waiting:        1    1   0.0      1       1</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
Total:          6    6   0.0      6       6</div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px; color:rgb(128,0,0)">&#13;
<br/></div>&#13;
<div style="font-family:Arial; font-size:14px; line-height:26px">在做压力测试的时候，一般情况下压力测试客户端接收到的数据量一定会远大于发送出去的数据量</div>&#13;
&#13;
                      </div>  </body>
            </html>