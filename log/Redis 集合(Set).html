<!DOCTYPE html>
            <html>
              <head>
                <meta http-equiv="content-type" content="text/html; charset=utf-8">
                <meta http-equiv="X-UA-Compatible" content="IE=Edge">
                <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
                <meta name="apple-mobile-web-app-status-bar-style" content="black">

                <meta http-equiv="Cache-Control" content="no-siteapp" /><link rel="alternate" media="handheld" href="#" />

                <title></title>
              </head>
              <body><div class="skin_detail" id="article_content">&#13;
                        &#13;
<h1 style="border:0px; margin:0px 0px 10px; padding:0px; font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif">&#13;
<span style="font-size:18px">Redis 集合(Set)</span></h1>&#13;
<p style="border:0px; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:2em; font-family:'Microsoft Yahei','Helvetica Neue',Helvetica,Arial,sans-serif; color:rgb(51,51,51)">&#13;
<span style="font-size:18px">Redis的Set是string类型的无序集合。集合成员是唯一的，这就意味着集合中不能出现重复的数据。</span></p>&#13;
<p style="border:0px; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:2em; font-family:'Microsoft Yahei','Helvetica Neue',Helvetica,Arial,sans-serif; color:rgb(51,51,51)">&#13;
<span style="font-size:18px">Redis 中 集合是通过哈希表实现的，所以添加，删除，查找的复杂度都是O(1)。</span></p>&#13;
<p style="border:0px; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:2em; font-family:'Microsoft Yahei','Helvetica Neue',Helvetica,Arial,sans-serif; color:rgb(51,51,51)">&#13;
<span style="font-size:18px">集合中最大的成员数为 2<sup style="border:0px; margin:0px; padding:0px">32 - 1</sup> (4294967295, 每个集合可存储40多亿个成员)。</span></p>&#13;
<h3 style="border:0px; margin:8px 0px; padding:0px; color:rgb(51,51,51); font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif">&#13;
<span style="font-size:18px">实例</span></h3>&#13;
<pre class="prettyprint prettyprinted" style="border-width:1px 1px 1px 4px; border-style:solid; border-color:rgb(221,221,221); margin:15px auto; padding:10px 15px; line-height:20px; font-family:'courier new'; white-space:pre-wrap; word-break:break-all; word-wrap:break-word; color:rgb(51,51,51)"><span style="font-size:18px"><span class="pln" style="border:0px; margin:0px; padding:0px; color:rgb(0,0,0)">redis </span><span class="lit" style="border:0px; margin:0px; padding:0px; color:rgb(0,102,102)">127.0</span><span class="pun" style="border:0px; margin:0px; padding:0px; color:rgb(102,102,0)">.</span><span class="lit" style="border:0px; margin:0px; padding:0px; color:rgb(0,102,102)">0.1</span><span class="pun" style="border:0px; margin:0px; padding:0px; color:rgb(102,102,0)">:</span><span class="lit" style="border:0px; margin:0px; padding:0px; color:rgb(0,102,102)">6379</span><span class="pun" style="border:0px; margin:0px; padding:0px; color:rgb(102,102,0)">&gt;</span><span class="pln" style="border:0px; margin:0px; padding:0px; color:rgb(0,0,0)"> SADD w3ckey redis
</span><span class="pun" style="border:0px; margin:0px; padding:0px; color:rgb(102,102,0)">(</span><span class="pln" style="border:0px; margin:0px; padding:0px; color:rgb(0,0,0)">integer</span><span class="pun" style="border:0px; margin:0px; padding:0px; color:rgb(102,102,0)">)</span><span class="pln" style="border:0px; margin:0px; padding:0px; color:rgb(0,0,0)"> </span><span class="lit" style="border:0px; margin:0px; padding:0px; color:rgb(0,102,102)">1</span><span class="pln" style="border:0px; margin:0px; padding:0px; color:rgb(0,0,0)">
redis </span><span class="lit" style="border:0px; margin:0px; padding:0px; color:rgb(0,102,102)">127.0</span><span class="pun" style="border:0px; margin:0px; padding:0px; color:rgb(102,102,0)">.</span><span class="lit" style="border:0px; margin:0px; padding:0px; color:rgb(0,102,102)">0.1</span><span class="pun" style="border:0px; margin:0px; padding:0px; color:rgb(102,102,0)">:</span><span class="lit" style="border:0px; margin:0px; padding:0px; color:rgb(0,102,102)">6379</span><span class="pun" style="border:0px; margin:0px; padding:0px; color:rgb(102,102,0)">&gt;</span><span class="pln" style="border:0px; margin:0px; padding:0px; color:rgb(0,0,0)"> SADD w3ckey mongodb
</span><span class="pun" style="border:0px; margin:0px; padding:0px; color:rgb(102,102,0)">(</span><span class="pln" style="border:0px; margin:0px; padding:0px; color:rgb(0,0,0)">integer</span><span class="pun" style="border:0px; margin:0px; padding:0px; color:rgb(102,102,0)">)</span><span class="pln" style="border:0px; margin:0px; padding:0px; color:rgb(0,0,0)"> </span><span class="lit" style="border:0px; margin:0px; padding:0px; color:rgb(0,102,102)">1</span><span class="pln" style="border:0px; margin:0px; padding:0px; color:rgb(0,0,0)">
redis </span><span class="lit" style="border:0px; margin:0px; padding:0px; color:rgb(0,102,102)">127.0</span><span class="pun" style="border:0px; margin:0px; padding:0px; color:rgb(102,102,0)">.</span><span class="lit" style="border:0px; margin:0px; padding:0px; color:rgb(0,102,102)">0.1</span><span class="pun" style="border:0px; margin:0px; padding:0px; color:rgb(102,102,0)">:</span><span class="lit" style="border:0px; margin:0px; padding:0px; color:rgb(0,102,102)">6379</span><span class="pun" style="border:0px; margin:0px; padding:0px; color:rgb(102,102,0)">&gt;</span><span class="pln" style="border:0px; margin:0px; padding:0px; color:rgb(0,0,0)"> SADD w3ckey mysql
</span><span class="pun" style="border:0px; margin:0px; padding:0px; color:rgb(102,102,0)">(</span><span class="pln" style="border:0px; margin:0px; padding:0px; color:rgb(0,0,0)">integer</span><span class="pun" style="border:0px; margin:0px; padding:0px; color:rgb(102,102,0)">)</span><span class="pln" style="border:0px; margin:0px; padding:0px; color:rgb(0,0,0)"> </span><span class="lit" style="border:0px; margin:0px; padding:0px; color:rgb(0,102,102)">1</span><span class="pln" style="border:0px; margin:0px; padding:0px; color:rgb(0,0,0)">
redis </span><span class="lit" style="border:0px; margin:0px; padding:0px; color:rgb(0,102,102)">127.0</span><span class="pun" style="border:0px; margin:0px; padding:0px; color:rgb(102,102,0)">.</span><span class="lit" style="border:0px; margin:0px; padding:0px; color:rgb(0,102,102)">0.1</span><span class="pun" style="border:0px; margin:0px; padding:0px; color:rgb(102,102,0)">:</span><span class="lit" style="border:0px; margin:0px; padding:0px; color:rgb(0,102,102)">6379</span><span class="pun" style="border:0px; margin:0px; padding:0px; color:rgb(102,102,0)">&gt;</span><span class="pln" style="border:0px; margin:0px; padding:0px; color:rgb(0,0,0)"> SADD w3ckey mysql
</span><span class="pun" style="border:0px; margin:0px; padding:0px; color:rgb(102,102,0)">(</span><span class="pln" style="border:0px; margin:0px; padding:0px; color:rgb(0,0,0)">integer</span><span class="pun" style="border:0px; margin:0px; padding:0px; color:rgb(102,102,0)">)</span><span class="pln" style="border:0px; margin:0px; padding:0px; color:rgb(0,0,0)"> </span><span class="lit" style="border:0px; margin:0px; padding:0px; color:rgb(0,102,102)">0</span><span class="pln" style="border:0px; margin:0px; padding:0px; color:rgb(0,0,0)">
redis </span><span class="lit" style="border:0px; margin:0px; padding:0px; color:rgb(0,102,102)">127.0</span><span class="pun" style="border:0px; margin:0px; padding:0px; color:rgb(102,102,0)">.</span><span class="lit" style="border:0px; margin:0px; padding:0px; color:rgb(0,102,102)">0.1</span><span class="pun" style="border:0px; margin:0px; padding:0px; color:rgb(102,102,0)">:</span><span class="lit" style="border:0px; margin:0px; padding:0px; color:rgb(0,102,102)">6379</span><span class="pun" style="border:0px; margin:0px; padding:0px; color:rgb(102,102,0)">&gt;</span><span class="pln" style="border:0px; margin:0px; padding:0px; color:rgb(0,0,0)"> SMEMBERS w3ckey

</span><span class="lit" style="border:0px; margin:0px; padding:0px; color:rgb(0,102,102)">1</span><span class="pun" style="border:0px; margin:0px; padding:0px; color:rgb(102,102,0)">)</span><span class="pln" style="border:0px; margin:0px; padding:0px; color:rgb(0,0,0)"> </span><span class="str" style="border:0px; margin:0px; padding:0px; color:rgb(0,136,0)">"mysql"</span><span class="pln" style="border:0px; margin:0px; padding:0px; color:rgb(0,0,0)">
</span><span class="lit" style="border:0px; margin:0px; padding:0px; color:rgb(0,102,102)">2</span><span class="pun" style="border:0px; margin:0px; padding:0px; color:rgb(102,102,0)">)</span><span class="pln" style="border:0px; margin:0px; padding:0px; color:rgb(0,0,0)"> </span><span class="str" style="border:0px; margin:0px; padding:0px; color:rgb(0,136,0)">"mongodb"</span><span class="pln" style="border:0px; margin:0px; padding:0px; color:rgb(0,0,0)">
</span><span class="lit" style="border:0px; margin:0px; padding:0px; color:rgb(0,102,102)">3</span><span class="pun" style="border:0px; margin:0px; padding:0px; color:rgb(102,102,0)">)</span><span class="pln" style="border:0px; margin:0px; padding:0px; color:rgb(0,0,0)"> </span><span class="str" style="border:0px; margin:0px; padding:0px; color:rgb(0,136,0)">"redis"</span></span></pre>&#13;
<p style="border:0px; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:2em; font-family:'Microsoft Yahei','Helvetica Neue',Helvetica,Arial,sans-serif; color:rgb(51,51,51)">&#13;
<span style="font-size:18px">在以上实例中我们通过 <strong>SADD</strong> 命令向名为 w3ckey 的集合插入的三个元素。</span></p>&#13;
<hr style="color:rgb(212,212,212); height:1px; border:0px; clear:both; font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif; background-color:rgb(212,212,212)"/><h2 style="border:0px; margin:2px 0px; padding:0px; line-height:1.8em; color:rgb(51,51,51); font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif">&#13;
<span style="font-size:18px"><img src="http://img.blog.csdn.net/20160523162228679?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""/><br/></span></h2>&#13;
<h2 style="border:0px; margin:2px 0px; padding:0px; line-height:1.8em; color:rgb(51,51,51); font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif">&#13;
<span style="font-size:18px">Redis 集合命令</span></h2>&#13;
<p style="border:0px; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:2em; font-family:'Microsoft Yahei','Helvetica Neue',Helvetica,Arial,sans-serif; color:rgb(51,51,51)">&#13;
<span style="font-size:18px">下表列出了 Redis 集合基本命令：</span></p>&#13;
<p style="border:0px; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:2em; font-family:'Microsoft Yahei','Helvetica Neue',Helvetica,Arial,sans-serif">&#13;
<span style="font-size:18px"><span style="color:#333333">1</span><span style="color:rgb(51,51,51); white-space:pre"/><span style="color:#ff6666">sadd   key  member1  [member2]  </span><span style="color:#333333">    向集合添加一个或多个成员，已经存在于集合的成员元素将被忽略。假如集合&#13;
 key 不存在，则创建一个只包含添加的元素作成员的集合。当集合 key 不是集合类型时，返回一个错误。</span><br/><span style="color:#333333">2</span><span style="color:rgb(51,51,51); white-space:pre"/><span style="color:#ff6666">scard  key&#13;
</span><span style="color:#333333">   </span><span style="color:#333333">返回集合中元素的数量。</span><br/><span style="color:#333333">3</span><span style="color:rgb(51,51,51); white-space:pre"/><span style="color:#ff6666">sdiff  key1  [key2]</span><span style="color:#333333">   返回给定所有集合的差集，不存在的集合 key 将视为空集。</span><br/><span style="color:#333333">4</span><span style="color:rgb(51,51,51); white-space:pre"/><span style="color:#ff6666">sdiffstore  destination  key1  [key2]</span><span style="color:#333333">   返回给定所有集合的差集并存储在 destination 中，</span><span style="color:rgb(51,51,51); font-family:'Microsoft Yahei','Helvetica Neue',Helvetica,Arial,sans-serif; line-height:24px">如果指定的集合&#13;
 key 已存在，则会被覆盖。返回结果集中的元素数量。</span><br/><span style="color:#333333">5</span><span style="color:rgb(51,51,51); white-space:pre"/><span style="color:#ff6666">sinter   key1  [key2]&#13;
</span><span style="color:#333333">    返回给定所有集合的交集，返回交集成员的列表。</span><br/><span style="color:#333333">6</span><span style="color:rgb(51,51,51); white-space:pre"/><span style="color:#ff6666"><span style="font-family:'Microsoft Yahei','Helvetica Neue',Helvetica,Arial,sans-serif; line-height:24px">sinter</span><span style="font-family:'Microsoft Yahei','Helvetica Neue',Helvetica,Arial,sans-serif; line-height:24px">store </span>&#13;
 destination  key1  [key2]</span><span style="color:#333333">    返回给定所有集合的交集并存储在 destination 中，如果指定的集合已经存在，则将其覆盖。</span><br/><span style="color:#333333">7</span><span style="color:rgb(51,51,51); white-space:pre"/><span style="color:#ff6666">sismember  key  value</span><span style="color:#333333">    判断</span><span style="color:rgb(51,51,51); font-family:'Microsoft Yahei','Helvetica Neue',Helvetica,Arial,sans-serif; line-height:24px">value </span><span style="color:#333333">元素是否是集合&#13;
 key 的成员，如果成员元素是集合的成员，返回 1 。 如果成员元素不是集合的成员，或 key 不存在，返回 0 。</span><br/><span style="color:#333333">8</span><span style="color:rgb(51,51,51); white-space:pre"/><span style="color:#ff6666">smembers  key</span><span style="color:#333333">   返回集合中的所有成员， 不存在的集合 key 被视为空集合。</span><br/><span style="color:#333333">9</span><span style="color:rgb(51,51,51); white-space:pre"/><span style="color:#ff6666">smove   source  destination   value</span><span style="color:#333333">    将 member 元素从 source 集合移动到 destination 集合，如果 source 集合不存在或不包含指定的&#13;
 member 元素，则 smove 命令不执行任何操作，仅返回 0 。否则， member 元素从 source 集合中被移除，并添加到 destination 集合中去。当 destination 集合已经包含 member 元素时，&#13;
</span><span style="color:rgb(51,51,51); font-family:'Microsoft Yahei','Helvetica Neue',Helvetica,Arial,sans-serif; line-height:24px">smove </span><span style="color:#333333">命令只是简单地将 source 集合中的 member 元素删除。当 source 或 destination 不是集合类型时，返回一个错误。</span><br/><span style="color:#333333">10</span><span style="color:rgb(51,51,51); white-space:pre"/><span style="color:#ff0000">spop  key</span><span style="color:#333333">   移除并返回集合中的一个随机元素</span><br/><span style="color:#333333">11</span><span style="color:rgb(51,51,51); white-space:pre"/><span style="color:#ff6666">srandmember   key    [count]</span><span style="color:#333333">   返回集合中一个或多个随机数，从 Redis 2.6 版本开始， Srandmember 命令接受可选的 count 参数：</span><br/><span style="color:#333333">如果 count 为正数，且小于集合基数，那么命令返回一个包含 count 个元素的数组，数组中的元素各不相同。如果 count 大于等于集合基数，那么返回整个集合。</span><br/><span style="color:#333333">如果 count 为负数，那么命令返回一个数组，数组中的元素可能会重复出现多次，而数组的长度为 count 的绝对值。</span><br/><span style="color:#333333">该操作和 spop 相似，但 </span><span style="color:rgb(51,51,51); font-family:'Microsoft Yahei','Helvetica Neue',Helvetica,Arial,sans-serif; line-height:24px">spop </span><span style="color:#333333">将随机元素从集合中移除并返回，而 srandmember 则仅仅返回随机元素，而不对集合进行任何改动。</span><br/><span style="color:#333333">12</span><span style="color:rgb(51,51,51); white-space:pre"/><span style="color:#ff6666">srem  key  member1  [member2]</span><span style="color:#333333">     移除集合中一个或多个成员</span><br/><span style="color:#333333">13</span><span style="color:rgb(51,51,51); white-space:pre"/><span style="color:#ff6666">sunion   key1    [key2]</span><span style="color:#333333">    返回所有给定集合的并集</span><br/><span style="color:#333333">14</span><span style="color:rgb(51,51,51); white-space:pre"/><span style="color:#ff6666"><span style="font-family:'Microsoft Yahei','Helvetica Neue',Helvetica,Arial,sans-serif; line-height:24px">sunion</span>store  destination&#13;
  key1  [key2]</span><span style="color:#333333">    所有给定集合的并集存储在 destination 集合中</span><br/><span style="color:#333333">15</span><span style="color:rgb(51,51,51); white-space:pre"/><span style="color:#ff0000">sscan   key   cursor   [MATCH pattern]   [COUNT count]</span><span style="color:rgb(51,51,51)">    迭代集合中的元素<br/></span></span></p>&#13;
<p style="border:0px; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:2em; font-family:'Microsoft Yahei','Helvetica Neue',Helvetica,Arial,sans-serif; color:rgb(51,51,51)">&#13;
<span style="font-size:18px"><br/></span></p>&#13;
<p style="border:0px; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:2em; font-family:'Microsoft Yahei','Helvetica Neue',Helvetica,Arial,sans-serif; color:rgb(51,51,51)">&#13;
<span style="font-size:18px"><br/></span></p>&#13;
<p style="border:0px; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:2em; font-family:'Microsoft Yahei','Helvetica Neue',Helvetica,Arial,sans-serif; color:rgb(51,51,51)">&#13;
<span style="font-size:18px"><br/></span></p>&#13;
<p style="border:0px; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:2em; font-family:'Microsoft Yahei','Helvetica Neue',Helvetica,Arial,sans-serif; color:rgb(51,51,51)">&#13;
<span style="font-size:18px"><br/></span></p>&#13;
<p style="border:0px; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:2em; font-family:'Microsoft Yahei','Helvetica Neue',Helvetica,Arial,sans-serif; color:rgb(51,51,51)">&#13;
<span style="font-size:18px"><br/></span></p>&#13;
<p style="border:0px; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:2em; font-family:'Microsoft Yahei','Helvetica Neue',Helvetica,Arial,sans-serif; color:rgb(51,51,51)">&#13;
<br/></p>&#13;
&#13;
                      </div>  </body>
            </html>